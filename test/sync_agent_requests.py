import time

import requests

CHATBOT_URL = "http://localhost:8000/test"

questions = [
    "นายเอกผิดนัดชำระค่างวดรถยนต์เป็นเวลา 3 เดือน และถูกบริษัทเช่าซื้อแจ้งให้คืนรถ การยึดรถในกรณีนี้ถูกต้องตามกฎหมายหรือไม่ และนายเอกมีสิทธิ์คัดค้านอย่างไร?",
    # "คุณจันทร์พบว่าสัญญาเช่าซื้อระบุอัตราดอกเบี้ยผิดไปจากที่ได้ตกลงไว้ในเอกสารโฆษณา คุณจันทร์สามารถดำเนินการทางกฎหมายเพื่อแก้ไขสัญญาหรือเรียกร้องสิทธิได้หรือไม่?",
    # "นายวีชำระค่างวดครบทุกเดือน แต่ได้รับแจ้งเตือนจากบริษัทเช่าซื้อว่ามียอดค้างชำระ นายวีควรดำเนินการทางกฎหมายอย่างไรเพื่อพิสูจน์ว่าชำระเงินครบถ้วน?",
    # "บริษัทเช่าซื้อแจ้งปรับดอกเบี้ยเพิ่มขึ้นโดยไม่มีการแจ้งล่วงหน้า การเปลี่ยนแปลงดอกเบี้ยในสัญญาเช่าซื้อโดยไม่ได้รับความยินยอมเป็นการละเมิดกฎหมายหรือไม่?",
    # "นายพลถูกฟ้องร้องจากบริษัทเช่าซื้อหลังจากคืนรถยนต์ แต่ยังถูกเรียกเก็บยอดส่วนต่างหลังการขายทอดตลาด นายพลมีสิทธิ์ต่อสู้ทางกฎหมายเพื่อลดหรือยกเลิกภาระหนี้ส่วนนี้หรือไม่?",
    # "คุณส้มพบว่ามีค่าธรรมเนียมแอบแฝงในสัญญาเช่าซื้อที่ไม่ได้ระบุชัดเจนก่อนเซ็นสัญญา คุณส้มสามารถฟ้องร้องหรือยกเลิกสัญญาได้หรือไม่ในกรณีที่เกิดการละเมิดกฎหมายผู้บริโภค?",
    # "นายเก่งไม่ได้รับเอกสารสำคัญจากบริษัทเช่าซื้อ เช่น สัญญาฉบับสมบูรณ์หรือใบเสร็จการชำระ นายเก่งสามารถร้องเรียนหรือดำเนินการทางกฎหมายกับบริษัทได้อย่างไร?",
    # "คุณมุกถูกฟ้องร้องในข้อหาผิดนัดชำระค่างวด แม้จะมีการขอผ่อนผันและได้รับการยินยอมเป็นลายลักษณ์อักษร เอกสารยินยอมการผ่อนผันมีผลในทางกฎหมายอย่างไร และคุณมุกสามารถใช้เป็นหลักฐานได้หรือไม่?",
    # "นายสมคิดพบว่าเอกสารสัญญาเช่าซื้อมีการปลอมแปลงลายเซ็นของเขา นายสมคิดควรแจ้งความหรือดำเนินการทางกฎหมายกับบริษัทเช่าซื้อหรือบุคคลที่เกี่ยวข้องอย่างไร?",
    # "คุณพัชถูกยึดรถโดยไม่มีคำสั่งศาล หลังจากขาดส่งค่างวดเพียง 2 งวด การยึดรถในกรณีนี้ผิดกฎหมายหรือไม่ และคุณพัชควรดำเนินการอย่างไร?",
    # "บริษัทเช่าซื้อเปิดเผยข้อมูลส่วนตัวของนายเอ็ม เช่น ยอดหนี้และการผิดนัดชำระ ให้บุคคลที่สามทราบ การกระทำนี้เป็นการละเมิดกฎหมายคุ้มครองข้อมูลส่วนบุคคลหรือไม่ และนายเอ็มสามารถฟ้องร้องได้หรือไม่?",
    # "คุณโบว์ถูกหลอกให้เซ็นเอกสารที่ระบุเงื่อนไขสัญญาเช่าซื้อที่ไม่ตรงกับการตกลง คุณโบว์สามารถดำเนินการทางกฎหมายเพื่อยกเลิกหรือแก้ไขสัญญาได้หรือไม่?",
    # "นายศักดิ์พบว่าบริษัทเช่าซื้อไม่ได้โอนกรรมสิทธิ์รถยนต์ให้เขาหลังจากผ่อนชำระครบถ้วน นายศักดิ์สามารถฟ้องร้องเพื่อบังคับให้โอนกรรมสิทธิ์ได้หรือไม่?",
    # "คุณนุ้ยต้องการยกเลิกสัญญาเช่าซื้อ แต่บริษัทเรียกเก็บค่าปรับที่สูงเกินกว่าที่ระบุในสัญญา การเรียกเก็บค่าปรับเกินกว่าที่ระบุไว้ในสัญญาเป็นการละเมิดกฎหมายหรือไม่?",
    # "นายดอนพบว่าบริษัทเช่าซื้อบังคับให้เขาทำประกันภัยในราคาแพงเกินจริง นายดอนสามารถฟ้องร้องหรือร้องเรียนหน่วยงานที่เกี่ยวข้องได้หรือไม่?",
    # "คุณต่ายต้องการตรวจสอบสัญญาเช่าซื้อ แต่บริษัทปฏิเสธไม่ให้สำเนาสัญญา คุณต่ายมีสิทธิ์ตามกฎหมายที่จะเรียกร้องสำเนาสัญญาหรือไม่?",
    # "บริษัทเช่าซื้อข่มขู่ลูกค้าด้วยวิธีการที่ไม่เหมาะสม เช่น โทรศัพท์ด่าทอ หรือส่งบุคคลมาข่มขู่ถึงบ้าน ลูกค้าสามารถดำเนินการทางกฎหมายต่อพฤติกรรมนี้ได้อย่างไร?",
    # "นายเจตพบว่าบริษัทเช่าซื้อมีเงื่อนไขในสัญญาที่ไม่เป็นธรรม เช่น ดอกเบี้ยผิดนัดที่สูงเกินไป นายเจตสามารถฟ้องร้องเพื่อแก้ไขหรือยกเลิกเงื่อนไขที่ไม่เป็นธรรมนี้ได้หรือไม่?",
    # "บริษัทเช่าซื้อไม่ยอมคืนเงินค่างวดที่นายเดชจ่ายเกินไปหลังจากยกเลิกสัญญา นายเดชสามารถฟ้องร้องเพื่อเรียกคืนเงินที่จ่ายเกินไปได้หรือไม่?",
    # "คุณจอยถูกบริษัทเช่าซื้อหลอกลวงเกี่ยวกับโปรโมชั่น ปลอดดอกเบี้ย ที่จริงแล้วมีค่าใช้จ่ายแอบแฝง คุณจอยสามารถดำเนินการทางกฎหมายเพื่อเอาผิดกับบริษัทในกรณีนี้ได้หรือไม่?",
]

request_bodies = [{"text": q} for q in questions]

start_time = time.perf_counter()
#outputs = [] #[requests.post(CHATBOT_URL, json=data) for data in request_bodies]
for data in request_bodies:
    st = time.perf_counter()
    req = requests.post(CHATBOT_URL, json=data)
    et = time.perf_counter()
    print(f"{req.json().get("output")} time = {et-st}")
    #outputs.append(req)
end_time = time.perf_counter()


print(f"Run time: {end_time - start_time} seconds")
